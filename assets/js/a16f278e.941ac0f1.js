"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[8677],{4248:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"TWF/AK","title":"Apply Koza","description":"The applyKoza logic validates the store ID and bank account (koza) information, including a required image, then fetches the related application and ensures the koza data is not already completed. It applies the submitted koza details and image to the application, updates the LINE rich menu accordingly.","source":"@site/docs/TWF/AK.md","sourceDirName":"TWF","slug":"/TWF/AK","permalink":"/docs-setup/docs/next/TWF/AK","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/TWF/AK.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Apply Consent","permalink":"/docs-setup/docs/next/TWF/AI"},"next":{"title":"Apply Question","permalink":"/docs-setup/docs/next/TWF/AQ"}}');var a=o(4848),s=o(8453);const r={sidebar_position:2},i="Apply Koza",c={},d=[];function l(e){const t={h1:"h1",header:"header",mermaid:"mermaid",p:"p",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"apply-koza",children:"Apply Koza"})}),"\n",(0,a.jsx)(t.p,{children:"The applyKoza logic validates the store ID and bank account (koza) information, including a required image, then fetches the related application and ensures the koza data is not already completed. It applies the submitted koza details and image to the application, updates the LINE rich menu accordingly."}),"\n",(0,a.jsx)(t.mermaid,{value:'flowchart TD\n  classDef startend fill:#76c7c0,stroke:#333,stroke-width:2px,color:#fff,font-weight:bold;\n  classDef process fill:#6fa8dc,stroke:#333,stroke-width:1.5px,color:#222,font-weight:bold;\n  classDef decision fill:#ffb347,stroke:#333,stroke-width:2px,color:#333,font-weight:bold;\n  classDef error fill:#f44336,stroke:#900,stroke-width:2px,color:#fff,font-weight:bold;\n  classDef success fill:#4caf50,stroke:#256a2e,stroke-width:2px,color:#fff,font-weight:bold;\n\n  Start(["Start"]):::startend --Validate store--\x3e ValidateKoza["Validate bank information<br/>(provider, branch,<br/>accId, accName)"]:::process\n  ValidateKoza --\x3e CheckImage{"Is the Bank image<br/>uploaded?"}:::decision\n  CheckImage -- No --\x3e Error1["Error"]:::error\n  CheckImage -- Yes --\x3e FetchApp["Fetch Application with<br/> bank info"]:::process\n  FetchApp --\x3e ValidApp{"Does the application<br/> exists & bank info <br/>not filled?"}:::decision\n  ValidApp -- No --\x3e Error1:::error\n  ValidApp -- Yes --\x3e FillKoza["Fill Bank Info"]:::process\n  FillKoza --\x3e UpdateMenu["Update Richmenu"]:::process\n  %% UpdateMenu --\x3e Emit["Emit Application<br/>Update Event"]:::process\n  %% Emit --\x3e Commit["Commit Transaction"]:::process\n  %% Commit --\x3e Success["Send Success Response"]:::success\n  UpdateMenu --\x3e End(["End"]):::startend\n\n  Error1 --\x3e End\n  %% Error2 --\x3e End\n'})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>i});var n=o(6540);const a={},s=n.createContext(a);function r(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);